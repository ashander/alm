Install libraries

```{r eval=FALSE}
install_github("alm", "ropensci")
install_github("rplos", "ropensci")
install.packages("plyr")
```

Load libraries

```{r}
library(alm); library(rplos); library(plyr)
```

Get DOIs from PLOS search api

```{r cache=TRUE}
dois <- searchplos(terms='*:*', fields="id", toquery=list('cross_published_journal_key:PLoSONE', 'doc_type:full', 'publication_date:[2010-01-01T00:00:00Z TO 2010-12-31T23:59:59Z]'), limit=200)
```

Then search for altmetrics on each DOI, and combine results for each DOI to a data.frame 

```{r cache=TRUE} 
alm <- alm(doi=do.call(c,dois$id), total_details=TRUE)
alm <- ldply(alm)
```

Default plot gives Scopus citations

```{r cache=TRUE}
plot_density(alm)
```

Or give histogram instead of density

```{r cache=TRUE}
plot_density(alm, plot_type="hist")
```

Note that you can get the possible data source by doing `str(alm)` or `head(alm)`. Change color of density plot

```{r cache=TRUE}
plot_density(alm, color="#DCA121")
```

Change Title

```{r cache=TRUE}
plot_density(alm, title="Scopus citations from 2010")
```

Change title and description

```{r cache=TRUE}
plot_density(alm, title="Scopus citations from 2010", description="Probablity of X number of citations for a paper")
```

Change just description

```{r cache=TRUE}
plot_density(alm, description="Probablity of X number of citations for a paper")
```

Use the source crossref_citations

```{r cache=TRUE}
plot_density(input=alm, source="crossref_citations")
```

Use number of tweets 

```{r cache=TRUE}
plot_density(input=alm, source="twitter_total")
```

Use totoal PLOS usage data (views, downloads, etc.) 

```{r cache=TRUE}
plot_density(input=alm, source="counter_total")
```

Use two souces, PLOS counter and crossref citations

```{r cache=TRUE}
plot_density(input=alm, source=c("counter_total","crossref_citations"))
```

Same as above but histogram plot type

```{r cache=TRUE}
plot_density(input=alm, source=c("counter_total","crossref_citations"), plot_type="hist")
```

Three sources

```{r cache=TRUE}
plot_density(input=alm, source=c("counter_total","crossref_citations","twitter_total"))
```

Three sources, and use different color for each source

```{r cache=TRUE}
plot_density(input=alm, source=c("counter_total","crossref_citations","twitter_total"), 
             color=c("#DBAC6A", "#E09B33","#A06D34"))
```

Four different sources

```{r cache=TRUE}
plot_density(input=alm, source=c("counter_total","crossref_citations","twitter_total","wos_citations"))
```

Two sources and a title

```{r cache=TRUE}
plot_density(input=alm, source=c("counter_total","crossref_citations"), title="Counter, Crossref, Twitter, and Web of Science")
```

Four sources, and separate color for each panel

```{r cache=TRUE}
plot_density(input=alm, source=c("counter_total","crossref_citations","twitter_total","wos_citations"), color=c("#83DFB4","#EFA5A5","#CFD470","#B2C9E4"))
```